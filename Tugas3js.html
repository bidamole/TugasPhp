<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tugas 3 JavaScript</title>
</head>
<body>
    <marquee onmouseover="stop()" onmouseout="start()">
    <h3>Tugas 3 JavaScript Wa Bida</h3>
    </marquee>
    <hr/>
    
    <script>
    let p1 = {'nama' : 'Pegawai1', 'agama' : 'Muslim'};
    let p2 = {'nama' : 'Pegawai2', 'agama' : 'NonMuslim'};
    let p3 = {'nama' : 'Pegawai3', 'agama' : 'Muslim'};
    let p4 = {'nama' : 'Pegawai4', 'agama' : 'NonMuslim'};
    let p5 = {'nama' : 'Pegawai5', 'agama' : 'Muslim'};
    let p6 = {'nama' : 'Pegawai6', 'agama' : 'NonMuslim'};
    let p7 = {'nama' : 'Pegawai7', 'agama' : 'Muslim'};
    let p8 = {'nama' : 'Pegawai8', 'agama' : 'NonMuslim'};
    let p9 = {'nama' : 'Pegawai9', 'agama' : 'Muslim'};
    let p10 = {'nama' : 'Pegawai10', 'agama' : 'NonMuslim'};
    
    let pegawai = [p1, p2, p3, p4, p5, p6, p7, p8, p9, p10];
</script>

<table style="padding: 10px; text-align: center; width: 100%">
    <thead>
        <tr>
            <th>No</th>
            <th>Nama</th>
            <th>Jabatan</th>
            <th>Gaji Pokok</th>
            <th>Tunjangan Jabatan</th>
            <th>Tunjangan Kesehatan</th>
            <th>Gaji Kotor</th>
            <th>Agama</th>
            <th>Take Home Pay</th>
        </tr>
    </thead>
    <tbody>
        <script>
            let warnabaris;
            let no = 1;
            for (let i = 0; i < pegawai.length; i++) {
                let pegawaiData = pegawai[i];
                let nama = pegawaiData.nama;
                let agama = pegawaiData.agama;
                let jabatan = "";
                let gapok = 0;

                if (nama === 'Pegawai1' || nama === 'Pegawai2') {
                    jabatan = 'Manager';
                } else if (nama === 'Pegawai3' || nama === 'Pegawai4' || nama === 'Pegawai5') {
                    jabatan = 'Asisten Manager';
                } else if (nama === 'Pegawai6' || nama === 'Pegawai7' || nama === 'Pegawai8') {
                    jabatan = 'Supervisor';
                } else if (nama === 'Pegawai9' || nama === 'Pegawai10') {
                    jabatan = 'Staff';
                } else {
                    jabatan = 'Tidak Diketahui';
                }

                switch (nama) {
                    case 'Pegawai1':
                    case 'Pegawai2':
                        gapok = 15000000;
                        break;
                    case 'Pegawai3':
                    case 'Pegawai4':
                    case 'Pegawai5':
                        gapok = 10000000;
                        break;
                    case 'Pegawai6':
                    case 'Pegawai7':
                    case 'Pegawai8':
                        gapok = 7000000;
                        break;
                    case 'Pegawai9':
                    case 'Pegawai10':
                        gapok = 4000000;
                        break;
                    default:
                        gapok = 0;
                }

                let tunjanganJabatan = 0.20 * gapok;
                let tunjanganKesehatan = 0.10 * gapok;
                let gajiKotor = gapok + tunjanganJabatan + tunjanganKesehatan;

                let warnaBaris = agama === 'Muslim' ? 'yellow' : 'blue';
                let zakatProfesi = agama === 'Muslim' && gajiKotor >= 7000000 ? 0.025 * gajiKotor : 0;
                let takeHomePay = gajiKotor - zakatProfesi;

                document.write(`<tr style="background-color: ${warnaBaris}">
                    <td>${no++}</td>
                    <td>${nama}</td>
                    <td>${jabatan}</td>
                    <td>${gapok}</td>
                    <td>${tunjanganJabatan}</td>
                    <td>${tunjanganKesehatan}</td>
                    <td>${gajiKotor}</td>
                    <td>${agama}</td>
                    <td>${takeHomePay}</td>
                </tr>`);
            }
        </script>
    </tbody>
</table>